{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { PersonalData } from '../../models/personal-data/personal-data.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction PersonalDataComponent_small_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 22);\n    i0.ɵɵtext(2, \"\\u00A0Ingresa un nombre v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PersonalDataComponent_small_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 22);\n    i0.ɵɵtext(2, \"\\u00A0 Ingresa un rut v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PersonalDataComponent_small_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 22);\n    i0.ɵɵtext(2, \"\\u00A0Ingresa un mail v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PersonalDataComponent_small_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 22);\n    i0.ɵɵtext(2, \"\\u00A0Ingresa un n\\u00FAmero v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"input-error-pd\": a0\n  };\n};\n\nconst _c1 = function (a0, a1) {\n  return {\n    \"btn-disable-primary\": a0,\n    \"btn\": a1\n  };\n};\n\nexport let PersonalDataComponent = /*#__PURE__*/(() => {\n  class PersonalDataComponent {\n    constructor(fb, router) {\n      this.fb = fb;\n      this.router = router;\n      this.viewShow = new EventEmitter();\n      this.dataPersonal = new EventEmitter();\n      this.img = '';\n      this.validateCon = true;\n      this.rutValidate = '';\n      this.rutValidateFormatK = false;\n      this.telefonoValidate = '';\n      this.n_dv = 0;\n      this.searchForm = this.createformGroup();\n\n      this.router.routeReuseStrategy.shouldReuseRoute = function () {\n        return false;\n      };\n\n      this.rutValidate = '';\n    }\n\n    createformGroup() {\n      return new FormGroup({\n        nombre: new FormControl('', [Validators.required, Validators.minLength(6), Validators.pattern(/^[a-zA-Z]{1,12}\\s([a-zA-Z\\s]{1,50})$/i)]),\n        rut: new FormControl('', [Validators.required, Validators.minLength(9), Validators.maxLength(10), Validators.pattern(/^([1-9]{9,10})+$/)]),\n        correo: new FormControl('', [Validators.required, Validators.email, Validators.pattern(/^[-\\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/i)]),\n        telefono: new FormControl('', [Validators.required, Validators.minLength(12), Validators.maxLength(18), Validators.pattern(/^(\\+\\s[1-9]{3}\\s[1-9]{8,12})+$/)])\n      });\n    }\n\n    get nombre() {\n      return this.searchForm.get('nombre');\n    }\n\n    get rut() {\n      return this.searchForm.get('rut');\n    }\n\n    get correo() {\n      return this.searchForm.get('correo');\n    }\n\n    get telefono() {\n      return this.searchForm.get('telefono');\n    }\n\n    ngOnInit() {}\n\n    onSubmit() {\n      var _a, _b, _c, _d;\n\n      let personal = new PersonalData((_a = this.searchForm.get('nombre')) === null || _a === void 0 ? void 0 : _a.value, (_b = this.searchForm.get('rut')) === null || _b === void 0 ? void 0 : _b.value, (_c = this.searchForm.get('correo')) === null || _c === void 0 ? void 0 : _c.value, (_d = this.searchForm.get('telefono')) === null || _d === void 0 ? void 0 : _d.value);\n      this.dataPersonal.emit(personal);\n      this.viewShow.emit('amountPayable');\n    }\n\n    validateRut() {\n      var _a, _b; //this.rut?.value\n      //if(this.rutValidate.length == 6 && this.searchForm.get('rut')?.value.length == 7){\n      //  this.searchForm.controls['rut'].setValue(this.searchForm.get('rut')?.value+'-');\n      //} else if(this.rutValidate.length == 8 && this.searchForm.get('rut')?.value.length == 7){\n      //  this.searchForm.controls['rut'].setValue(this.searchForm.get('rut')?.value.substring(0,6));\n      //}\n\n\n      this.rutValidate = (_a = this.searchForm.get('rut')) === null || _a === void 0 ? void 0 : _a.value;\n\n      if (((_b = this.searchForm.get('rut')) === null || _b === void 0 ? void 0 : _b.value.length) > 8) {\n        this.validarRut();\n      }\n    }\n\n    validateTelefono() {\n      var _a, _b, _c, _d, _e, _f, _g, _h; //this.rut?.value\n\n\n      if (this.telefonoValidate.length == 0 && ((_a = this.searchForm.get('telefono')) === null || _a === void 0 ? void 0 : _a.value.length) == 1) {\n        this.searchForm.controls['telefono'].setValue('+ ' + ((_b = this.searchForm.get('telefono')) === null || _b === void 0 ? void 0 : _b.value));\n      } else if (this.telefonoValidate.length == 3 && ((_c = this.searchForm.get('telefono')) === null || _c === void 0 ? void 0 : _c.value.length) == 2) {\n        this.searchForm.controls['telefono'].setValue('');\n      }\n\n      if (this.telefonoValidate.length == 4 && ((_d = this.searchForm.get('telefono')) === null || _d === void 0 ? void 0 : _d.value.length) == 5) {\n        this.searchForm.controls['telefono'].setValue(((_e = this.searchForm.get('telefono')) === null || _e === void 0 ? void 0 : _e.value) + ' ');\n      } else if (this.telefonoValidate.length == 6 && ((_f = this.searchForm.get('telefono')) === null || _f === void 0 ? void 0 : _f.value.length) == 5) {\n        this.searchForm.controls['telefono'].setValue((_g = this.searchForm.get('telefono')) === null || _g === void 0 ? void 0 : _g.value.substring(0, 4));\n      }\n\n      this.telefonoValidate = (_h = this.searchForm.get('telefono')) === null || _h === void 0 ? void 0 : _h.value;\n    }\n\n    getDV() {\n      var _a, _b, _c;\n\n      let suma = 0;\n\n      if (((_a = this.searchForm.get('rut')) === null || _a === void 0 ? void 0 : _a.value.length) == 9) {\n        var nuevo_numero = (_b = this.searchForm.get('rut')) === null || _b === void 0 ? void 0 : _b.value.toString().substring(0, 7).split(\"\");\n      } else {\n        var nuevo_numero = (_c = this.searchForm.get('rut')) === null || _c === void 0 ? void 0 : _c.value.toString().substring(0, 8).split(\"\");\n      }\n\n      for (let i = 0, j = 2; i < nuevo_numero.length; i++, j == 7 ? j = 2 : j++) {\n        if (nuevo_numero[nuevo_numero.length - (i + 1)] != '-' && nuevo_numero[nuevo_numero.length - (i + 1)] != 'k') {\n          suma += parseInt(nuevo_numero[nuevo_numero.length - (i + 1)]) * j;\n        }\n      }\n\n      this.n_dv = 11 - suma % 11;\n      return this.n_dv == 11 ? 0 : this.n_dv == 10 ? \"K\" : this.n_dv;\n    }\n\n    validarRut() {\n      var _a, _b, _c;\n\n      if (((_a = this.searchForm.get('rut')) === null || _a === void 0 ? void 0 : _a.value.length) == 9) {\n        var rutValidator = (_b = this.searchForm.get('rut')) === null || _b === void 0 ? void 0 : _b.value.toString().substring(8, 9);\n      } else {\n        var rutValidator = (_c = this.searchForm.get('rut')) === null || _c === void 0 ? void 0 : _c.value.toString().substring(9, 10);\n      }\n\n      if (this.getDV().toString().toUpperCase() === rutValidator.toString().toUpperCase()) {\n        this.rutValidateFormatK = true;\n      } else {\n        this.rutValidateFormatK = false;\n      }\n    }\n\n  }\n\n  PersonalDataComponent.ɵfac = function PersonalDataComponent_Factory(t) {\n    return new (t || PersonalDataComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  PersonalDataComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PersonalDataComponent,\n    selectors: [[\"app-personal-data\"]],\n    inputs: {\n      img: \"img\"\n    },\n    outputs: {\n      viewShow: \"viewShow\",\n      dataPersonal: \"dataPersonal\"\n    },\n    decls: 39,\n    vars: 23,\n    consts: [[1, \"tamano10\"], [1, \"contenedor-pd\", \"center\"], [1, \"contenedor-pd-second\", \"center\"], [1, \"row\"], [1, \"img-pd\", 3, \"src\"], [1, \"width-100\"], [1, \"form-inline\", \"form-res-c\", 3, \"formGroup\", \"ngSubmit\"], [1, \"titulo-figma\"], [1, \"txt-inf-revision\", \"texto-figma\"], [1, \"container\", \"container-personal-data\"], [1, \"form-group\", \"col\"], [\"for\", \"nombre\"], [\"formControlName\", \"nombre\", \"type\", \"txt\", \"placeholder\", \"Juan Perez\", \"required\", \"\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\"], [4, \"ngIf\"], [1, \"form-group\", \"col\", \"formulario-32px-r\"], [\"for\", \"rut\"], [\"maxlength\", \"10\", \"formControlName\", \"rut\", \"type\", \"txt\", \"placeholder\", \"111111111-1\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\", \"ngModelChange\"], [1, \"form-group\", \"col\", \"formulario-32px\"], [\"for\", \"correo\"], [\"formControlName\", \"correo\", \"type\", \"email\", \"placeholder\", \"mail@mail.com\", \"ng-required\", \"true\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\"], [\"maxlength\", \"18\", \"placeholder\", \"+ 123 12345678\", \"formControlName\", \"telefono\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"center\", \"btn-pd-position\", 3, \"ngClass\", \"disabled\"], [\"src\", \"../../../assets/img/icon/icon-error.PNG\", 1, \"icon-error-pd\"]],\n    template: function PersonalDataComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"form\", 6);\n        i0.ɵɵlistener(\"ngSubmit\", function PersonalDataComponent_Template_form_ngSubmit_6_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(7, \"div\", 7)(8, \"strong\");\n        i0.ɵɵtext(9, \"Registra tus datos personales\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 8);\n        i0.ɵɵtext(11, \" Ingresa correctamente la informaci\\u00F3n solicitada, revisa los datos antes de continuar con el proceso. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 3)(14, \"div\", 10)(15, \"label\", 11);\n        i0.ɵɵtext(16, \"Nombres y apellidos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 12);\n        i0.ɵɵtemplate(18, PersonalDataComponent_small_18_Template, 3, 0, \"small\", 13);\n        i0.ɵɵelement(19, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 14)(21, \"label\", 15);\n        i0.ɵɵtext(22, \"Rut\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function PersonalDataComponent_Template_input_ngModelChange_23_listener() {\n          return ctx.validateRut();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, PersonalDataComponent_small_24_Template, 3, 0, \"small\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 17)(26, \"label\", 18);\n        i0.ɵɵtext(27, \"Correo electr\\u00F3nico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"input\", 19);\n        i0.ɵɵtemplate(29, PersonalDataComponent_small_29_Template, 3, 0, \"small\", 13);\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 17)(32, \"label\");\n        i0.ɵɵtext(33, \"Tel\\u00E9fono\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"input\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function PersonalDataComponent_Template_input_ngModelChange_34_listener() {\n          return ctx.validateTelefono();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, PersonalDataComponent_small_35_Template, 3, 0, \"small\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(36, \"br\");\n        i0.ɵɵelementStart(37, \"button\", 21);\n        i0.ɵɵtext(38, \"Siguiente\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.img, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c0, ctx.searchForm.controls[\"nombre\"].invalid && (ctx.searchForm.controls[\"nombre\"].dirty || ctx.searchForm.controls[\"nombre\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchForm.controls[\"nombre\"].invalid && (ctx.searchForm.controls[\"nombre\"].dirty || ctx.searchForm.controls[\"nombre\"].touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, !ctx.rutValidateFormatK && (ctx.searchForm.controls[\"rut\"].dirty || ctx.searchForm.controls[\"rut\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.rutValidateFormatK && (ctx.searchForm.controls[\"rut\"].dirty || ctx.searchForm.controls[\"rut\"].touched));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c0, ctx.searchForm.controls[\"correo\"].invalid && (ctx.searchForm.controls[\"correo\"].dirty || ctx.searchForm.controls[\"correo\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchForm.controls[\"correo\"].invalid && (ctx.searchForm.controls[\"correo\"].dirty || ctx.searchForm.controls[\"correo\"].touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ctx.searchForm.controls[\"telefono\"].invalid && (ctx.searchForm.controls[\"telefono\"].dirty || ctx.searchForm.controls[\"telefono\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchForm.controls[\"telefono\"].invalid && (ctx.searchForm.controls[\"telefono\"].dirty || ctx.searchForm.controls[\"telefono\"].touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(20, _c1, !ctx.searchForm.valid, ctx.searchForm.valid))(\"disabled\", !ctx.searchForm.valid);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i3.NgClass, i3.NgIf, i1.MaxLengthValidator],\n    styles: [\".txt-inf-revision[_ngcontent-%COMP%]{position:relative;top:4px!important}.form-res-c[_ngcontent-%COMP%]{margin:auto;position:relative;top:4px;width:100%;max-width:633px}.container-personal-data[_ngcontent-%COMP%]{padding:0;top:32px;position:relative}.formulario-32px[_ngcontent-%COMP%]{position:relative;top:7px!important}.img-pd[_ngcontent-%COMP%]{top:-25px;width:81px;height:24px;right:0px!important;position:absolute;right:-47px!important;padding:0}.process[_ngcontent-%COMP%]{width:95%;height:9px;background-color:#e7ebf3;border-radius:5px}.porcent[_ngcontent-%COMP%]{position:relative;right:12px;border-radius:5px;width:30%;height:9px;background-color:#00c4b4}.contenedor-pd[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;width:100%!important;width:960px;height:496px;top:45px;background:#FFFFFF;border:1px solid #E7EBF3;box-shadow:0 16px 64px #aaaebb33;border-radius:16px}.contenedor-pd-second[_ngcontent-%COMP%]{width:100%;max-width:700px;position:relative;top:65px}label[_ngcontent-%COMP%]{font-size:12px}.btn-pd-position[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:24px;text-align:center;letter-spacing:.25px;width:134px!important;height:48px!important;border-radius:4px;margin-top:45px!important;position:relative}@media (max-width:571px){.formulario-32px-r[_ngcontent-%COMP%]{position:relative;top:-5px!important}.formulario-32px[_ngcontent-%COMP%]{position:relative;top:20px!important}}@media (min-width:721px){.tamano10[_ngcontent-%COMP%]{height:10px}}@media (max-width:720px){.contenedor-page[_ngcontent-%COMP%]{width:100%;max-width:9600px}.img-pd[_ngcontent-%COMP%]{left:0px!important;padding:0}.contenedor-pd[_ngcontent-%COMP%]{border:none;box-shadow:none}}@media (max-width:320px){.contenedor-pd[_ngcontent-%COMP%]{top:0px!important}.btn-pd-position[_ngcontent-%COMP%]{width:100%!important;top:25px;margin:none}.container-personal-data[_ngcontent-%COMP%]{height:100%}.img-pd[_ngcontent-%COMP%]{top:-55px!important}.form-res-c[_ngcontent-%COMP%]{top:-10px}}.input-pd[_ngcontent-%COMP%]{min-width:250px}small[_ngcontent-%COMP%]{font-size:12px}.icon-error-pd[_ngcontent-%COMP%]{width:13px;height:13px;top:-2px;position:relative}.input-error-pd[_ngcontent-%COMP%]{border:#FF4B4B 2px solid!important}\"]\n  });\n  return PersonalDataComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}