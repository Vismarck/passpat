{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { PersonalData } from '../../models/personal-data/personal-data.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction PersonalDataComponent_small_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 20);\n    i0.ɵɵtext(2, \"\\u00A0Ingresa un nombre v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PersonalDataComponent_small_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 20);\n    i0.ɵɵtext(2, \"\\u00A0Ingresa un mail v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PersonalDataComponent_small_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 20);\n    i0.ɵɵtext(2, \"\\u00A0 Ingresa un rut v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PersonalDataComponent_small_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵelement(1, \"img\", 20);\n    i0.ɵɵtext(2, \"\\u00A0Ingresa un n\\u00FAmero v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"input-error-pd\": a0\n  };\n};\n\nexport let PersonalDataComponent = /*#__PURE__*/(() => {\n  class PersonalDataComponent {\n    constructor(fb, router) {\n      this.fb = fb;\n      this.router = router;\n      this.viewShow = new EventEmitter();\n      this.dataPersonal = new EventEmitter();\n      this.img = '';\n      this.validateCon = true;\n      this.rutValidate = '';\n      this.telefonoValidate = '';\n      this.searchForm = this.createformGroup();\n\n      this.router.routeReuseStrategy.shouldReuseRoute = function () {\n        return false;\n      };\n\n      this.rutValidate = '';\n    }\n\n    createformGroup() {\n      return new FormGroup({\n        nombre: new FormControl('', [Validators.required, Validators.minLength(6), Validators.pattern(/^[a-zA-Z]{1,12}\\s([a-zA-Z\\s]{1,50})$/i)]),\n        rut: new FormControl('', [Validators.required, Validators.minLength(11), Validators.maxLength(11), Validators.pattern(/^([1-9]{9}-\\d)+$/)]),\n        correo: new FormControl('', [Validators.required, Validators.email, Validators.pattern(/^[-\\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/i)]),\n        telefono: new FormControl('', [Validators.required, Validators.minLength(12), Validators.maxLength(18), Validators.pattern(/^(\\+\\s[1-9]{3}\\s[1-9]{8,12})+$/)])\n      });\n    }\n\n    get nombre() {\n      return this.searchForm.get('nombre');\n    }\n\n    get rut() {\n      return this.searchForm.get('rut');\n    }\n\n    get correo() {\n      return this.searchForm.get('correo');\n    }\n\n    get telefono() {\n      return this.searchForm.get('telefono');\n    }\n\n    ngOnInit() {}\n\n    onSubmit() {\n      var _a, _b, _c, _d;\n\n      let personal = new PersonalData((_a = this.searchForm.get('nombre')) === null || _a === void 0 ? void 0 : _a.value, (_b = this.searchForm.get('rut')) === null || _b === void 0 ? void 0 : _b.value, (_c = this.searchForm.get('correo')) === null || _c === void 0 ? void 0 : _c.value, (_d = this.searchForm.get('telefono')) === null || _d === void 0 ? void 0 : _d.value);\n      this.dataPersonal.emit(personal);\n      this.viewShow.emit('amountPayable');\n    }\n\n    validateRut() {\n      var _a, _b, _c, _d, _e; //this.rut?.value\n\n\n      if (this.rutValidate.length == 8 && ((_a = this.searchForm.get('rut')) === null || _a === void 0 ? void 0 : _a.value.length) == 9) {\n        this.searchForm.controls['rut'].setValue(((_b = this.searchForm.get('rut')) === null || _b === void 0 ? void 0 : _b.value) + '-');\n      } else if (this.rutValidate.length == 10 && ((_c = this.searchForm.get('rut')) === null || _c === void 0 ? void 0 : _c.value.length) == 9) {\n        this.searchForm.controls['rut'].setValue((_d = this.searchForm.get('rut')) === null || _d === void 0 ? void 0 : _d.value.substring(0, 8));\n      }\n\n      this.rutValidate = (_e = this.searchForm.get('rut')) === null || _e === void 0 ? void 0 : _e.value;\n    }\n\n    validateTelefono() {\n      var _a, _b, _c, _d, _e, _f, _g, _h; //this.rut?.value\n\n\n      if (this.telefonoValidate.length == 0 && ((_a = this.searchForm.get('telefono')) === null || _a === void 0 ? void 0 : _a.value.length) == 1) {\n        this.searchForm.controls['telefono'].setValue('+ ' + ((_b = this.searchForm.get('telefono')) === null || _b === void 0 ? void 0 : _b.value));\n      } else if (this.telefonoValidate.length == 3 && ((_c = this.searchForm.get('telefono')) === null || _c === void 0 ? void 0 : _c.value.length) == 2) {\n        this.searchForm.controls['telefono'].setValue('');\n      }\n\n      if (this.telefonoValidate.length == 4 && ((_d = this.searchForm.get('telefono')) === null || _d === void 0 ? void 0 : _d.value.length) == 5) {\n        this.searchForm.controls['telefono'].setValue(((_e = this.searchForm.get('telefono')) === null || _e === void 0 ? void 0 : _e.value) + ' ');\n      } else if (this.telefonoValidate.length == 6 && ((_f = this.searchForm.get('telefono')) === null || _f === void 0 ? void 0 : _f.value.length) == 5) {\n        this.searchForm.controls['telefono'].setValue((_g = this.searchForm.get('telefono')) === null || _g === void 0 ? void 0 : _g.value.substring(0, 4));\n      }\n\n      this.telefonoValidate = (_h = this.searchForm.get('telefono')) === null || _h === void 0 ? void 0 : _h.value;\n    }\n\n  }\n\n  PersonalDataComponent.ɵfac = function PersonalDataComponent_Factory(t) {\n    return new (t || PersonalDataComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  PersonalDataComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PersonalDataComponent,\n    selectors: [[\"app-personal-data\"]],\n    inputs: {\n      img: \"img\"\n    },\n    outputs: {\n      viewShow: \"viewShow\",\n      dataPersonal: \"dataPersonal\"\n    },\n    decls: 38,\n    vars: 19,\n    consts: [[1, \"contenedor-pd\", \"center\"], [1, \"contenedor-pd-second\", \"center\"], [1, \"row\"], [1, \"img-pd\", 3, \"src\"], [2, \"width\", \"100%\"], [1, \"form-inline\", 3, \"formGroup\", \"ngSubmit\"], [2, \"font-size\", \"34px\"], [2, \"font-size\", \"16px\", \"top\", \"4px\"], [1, \"container\", 2, \"padding\", \"0px\", \"top\", \"32px\", \"position\", \"relative\"], [1, \"form-group\", \"col\"], [\"for\", \"nombre\"], [\"formControlName\", \"nombre\", \"type\", \"txt\", \"placeholder\", \"Juan Perez\", \"required\", \"\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\"], [4, \"ngIf\"], [\"for\", \"correo\"], [\"formControlName\", \"correo\", \"type\", \"email\", \"placeholder\", \"mail@mail.com\", \"ng-required\", \"true\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\"], [1, \"form-group\", \"col\", 2, \"top\", \"32px\"], [\"for\", \"rut\"], [\"maxlength\", \"11\", \"formControlName\", \"rut\", \"type\", \"txt\", \"placeholder\", \"111111111-1\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\", \"ngModelChange\"], [\"maxlength\", \"18\", \"placeholder\", \"+ 123 12345678\", \"formControlName\", \"telefono\", 1, \"form-control\", \"input-pd\", 3, \"ngClass\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"center\", \"btn-pd\", 3, \"disabled\"], [\"src\", \"../../../assets/img/icon/icon-error.PNG\", 1, \"icon-error-pd\"]],\n    template: function PersonalDataComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function PersonalDataComponent_Template_form_ngSubmit_6_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"strong\");\n        i0.ɵɵtext(9, \"Registra tus datos personales\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵtext(11, \" Ingresa correctamente la informaci\\u00F3n solicitada, revisa los datos antes de continuar con el proceso. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 2)(14, \"div\", 9)(15, \"label\", 10);\n        i0.ɵɵtext(16, \"Nombre y apellido\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 11);\n        i0.ɵɵtemplate(18, PersonalDataComponent_small_18_Template, 3, 0, \"small\", 12);\n        i0.ɵɵelement(19, \"br\");\n        i0.ɵɵelementStart(20, \"label\", 13);\n        i0.ɵɵtext(21, \"Email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"input\", 14);\n        i0.ɵɵtemplate(23, PersonalDataComponent_small_23_Template, 3, 0, \"small\", 12);\n        i0.ɵɵelement(24, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 15)(26, \"label\", 16);\n        i0.ɵɵtext(27, \"Rut\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function PersonalDataComponent_Template_input_ngModelChange_28_listener() {\n          return ctx.validateRut();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, PersonalDataComponent_small_29_Template, 3, 0, \"small\", 12);\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵelementStart(31, \"label\");\n        i0.ɵɵtext(32, \"Telefono\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"input\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function PersonalDataComponent_Template_input_ngModelChange_33_listener() {\n          return ctx.validateTelefono();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(34, PersonalDataComponent_small_34_Template, 3, 0, \"small\", 12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵelementStart(36, \"button\", 19);\n        i0.ɵɵtext(37, \"Confirmar\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.img, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ctx.searchForm.controls[\"nombre\"].invalid && (ctx.searchForm.controls[\"nombre\"].dirty || ctx.searchForm.controls[\"nombre\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchForm.controls[\"nombre\"].invalid && (ctx.searchForm.controls[\"nombre\"].dirty || ctx.searchForm.controls[\"nombre\"].touched));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, ctx.searchForm.controls[\"correo\"].invalid && (ctx.searchForm.controls[\"correo\"].dirty || ctx.searchForm.controls[\"correo\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchForm.controls[\"correo\"].invalid && (ctx.searchForm.controls[\"correo\"].dirty || ctx.searchForm.controls[\"correo\"].touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ctx.searchForm.controls[\"rut\"].invalid && (ctx.searchForm.controls[\"rut\"].dirty || ctx.searchForm.controls[\"rut\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchForm.controls[\"rut\"].invalid && (ctx.searchForm.controls[\"rut\"].dirty || ctx.searchForm.controls[\"rut\"].touched));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, ctx.searchForm.controls[\"telefono\"].invalid && (ctx.searchForm.controls[\"telefono\"].dirty || ctx.searchForm.controls[\"telefono\"].touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchForm.controls[\"telefono\"].invalid && (ctx.searchForm.controls[\"telefono\"].dirty || ctx.searchForm.controls[\"telefono\"].touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !ctx.searchForm.valid);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i3.NgClass, i3.NgIf, i1.MaxLengthValidator],\n    styles: [\".img-pd[_ngcontent-%COMP%]{width:81px;height:24px;right:0px!important;position:absolute}.process[_ngcontent-%COMP%]{width:95%;height:9px;background-color:#e7ebf3;border-radius:5px}.porcent[_ngcontent-%COMP%]{position:relative;right:12px;border-radius:5px;width:30%;height:9px;background-color:#00c4b4}.contenedor-pd[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;width:100%!important;max-width:960px;height:546px;top:32px;background:#FFFFFF;border:1px solid #E7EBF3;box-shadow:0 16px 64px #aaaebb33;border-radius:16px}.contenedor-pd-second[_ngcontent-%COMP%]{width:100%;max-width:700px;position:relative;top:40px}label[_ngcontent-%COMP%]{font-size:12px}.btn-pd[_ngcontent-%COMP%]{width:134px!important;height:48px!important;background-color:#fff;border:1px solid #6B196B!important;border-radius:4px;color:#730397!important;margin-top:45px!important;position:relative}@media (max-width:720px){.contenedor-page[_ngcontent-%COMP%]{width:100%;max-width:9600px}.img-pd[_ngcontent-%COMP%]{left:0px!important;padding:0}.contenedor-pd[_ngcontent-%COMP%]{border:none}}.input-pd[_ngcontent-%COMP%]{min-width:250px}small[_ngcontent-%COMP%]{font-size:12px}.icon-error-pd[_ngcontent-%COMP%]{width:13px;height:13px;top:-2px;position:relative}.input-error-pd[_ngcontent-%COMP%]{border:#FF4B4B 2px solid!important}.btn-pd[_ngcontent-%COMP%]:hover{background-color:#730397;border:white 1px solid!important;color:#fff!important}\"]\n  });\n  return PersonalDataComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}